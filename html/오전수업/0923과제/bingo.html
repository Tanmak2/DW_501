<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>컴퓨터야 빙고 뜨자!</title>
    <link rel="stylesheet" href="bingo.css">
</head>
<body>
    <div class="main_wrap">
        <div class="game_title">AI 컴퓨터와 빙고 대결!</div>
        <div class="bingo_wrap">
            <div class="user_bingo_box">
                <div class="bingo_line">
                    <div class="bingo_boxes" onclick="user_bingo_click(1)" id="user_1"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(2)" id="user_2"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(3)" id="user_3"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(4)" id="user_4"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(5)" id="user_5"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" onclick="user_bingo_click(6)" id="user_6"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(7)" id="user_7"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(8)" id="user_8"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(9)" id="user_9"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(10)" id="user_10"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" onclick="user_bingo_click(11)" id="user_11"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(12)" id="user_12"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(13)" id="user_13"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(14)" id="user_14"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(15)" id="user_15"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" onclick="user_bingo_click(16)" id="user_16"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(17)" id="user_17"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(18)" id="user_18"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(19)" id="user_19"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(20)" id="user_20"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" onclick="user_bingo_click(21)" id="user_21"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(22)" id="user_22"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(23)" id="user_23"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(24)" id="user_24"></div>
                    <div class="bingo_boxes" onclick="user_bingo_click(25)" id="user_25"></div>
                </div>
            </div>
            <div class="bingo_box_center">
                <div id="thinking"></div>
                <button id="btn" onclick="start()">시작하기</button>
            </div>
            <div class="com_bingo_box">
                <div class="bingo_line">
                    <div class="bingo_boxes" id="com_1"></div>
                    <div class="bingo_boxes" id="com_2"></div>
                    <div class="bingo_boxes" id="com_3"></div>
                    <div class="bingo_boxes" id="com_4"></div>
                    <div class="bingo_boxes" id="com_5"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" id="com_6"></div>
                    <div class="bingo_boxes" id="com_7"></div>
                    <div class="bingo_boxes" id="com_8"></div>
                    <div class="bingo_boxes" id="com_9"></div>
                    <div class="bingo_boxes" id="com_10"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" id="com_11"></div>
                    <div class="bingo_boxes" id="com_12"></div>
                    <div class="bingo_boxes" id="com_13"></div>
                    <div class="bingo_boxes" id="com_14"></div>
                    <div class="bingo_boxes" id="com_15"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" id="com_16"></div>
                    <div class="bingo_boxes" id="com_17"></div>
                    <div class="bingo_boxes" id="com_18"></div>
                    <div class="bingo_boxes" id="com_19"></div>
                    <div class="bingo_boxes" id="com_20"></div>
                </div>
                <div class="bingo_line">
                    <div class="bingo_boxes" id="com_21"></div>
                    <div class="bingo_boxes" id="com_22"></div>
                    <div class="bingo_boxes" id="com_23"></div>
                    <div class="bingo_boxes" id="com_24"></div>
                    <div class="bingo_boxes" id="com_25"></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    // 생각중 메소드 시작
    var com_ai_think;
    var thinkingText = document.getElementById("thinking");
    var btn = document.getElementById("btn");
    var think_animate;
    var think_count = 0;
    var isUser = true;
    var com_think_count = 0;
    var first_change_time = 50;
    var first_change = 0;
    var isFirstSelect = false;
    var first_change_animate;
    var isFirst;
    var isSelect = false;
    function first_select(){
        isSelect = true;
        var times_ran = Math.floor(Math.random()*50)+1;
        if(first_change == 0){
            thinkingText.innerHTML = "선공";
            first_change++;
            first_change_time += times_ran;
        }
        else{
            thinkingText.innerHTML = "후공";
            first_change = 0;
            first_change_time += times_ran;
        }
        if(first_change_time >= 500){
            clearTimeout(first_change_animate);
            isFirstSelect = true; 
            if(thinkingText.innerHTML == "선공"){
                isFirst = true;
            }
            else{
                isFirst = false;
            }
            setTimeout(start,1000);
        }
        else{
            first_change_animate = setTimeout(first_select, first_change_time);
        }
    }

    function user_thinking(){
        switch(isUser){
            case true:
                if(think_count == 0){
                    thinkingText.innerHTML = "유저 생각중."
                    think_count++;
                }
                else if(think_count == 1){
                    thinkingText.innerHTML = "유저 생각중.."
                    think_count++;
                }
                else{
                    thinkingText.innerHTML = "유저 생각중..."
                    think_count = 0;
                }
                break;
            case false:
                if(think_count == 0){
                    thinkingText.innerHTML = "컴퓨터 생각중."
                    think_count++;
                }
                else if(think_count == 1){
                    thinkingText.innerHTML = "컴퓨터 생각중.."
                    think_count++;
                }
                else{
                    thinkingText.innerHTML = "컴퓨터 생각중..."
                    think_count = 0;
                }
                break;
        }
        think_animate = setTimeout(user_thinking,300);
    }
    // 생각중 메소드 종료
    var user_bingos = new Array(5);
    var com_bingos = new Array(5);
    var isNum = false;
    var isStart = false;
    var isEnd = false;

    function reset(){
        isStart = false;
        isUser = true;
        isTrue = false;
        isEnd = false;
        clearTimeout(think_animate);
        think_count = 0;
        isFirstSelect = false;
        first_change_time = 50;
        isSelect = false;
        for(var i = 1; i<=25; i++){
            var user_clear = document.getElementById("user_"+i);
            var com_clear = document.getElementById("com_"+i);
            user_clear.style.backgroundColor = "";
            user_clear.innerHTML = "";
            com_clear.style.backgroundColor = "";
            com_clear.style.color = "white";
            com_clear.innerHTML = "";
        }
        start();
    }

    function start(){
        if(!isFirstSelect){
            if(isSelect){
                return;
            }
            first_select();
            return;
        }
        if(isStart){
            if(confirm("게임이 진행중입니다. 초기화 하시겠습니까?") == true){
                reset();
                return;
            }
            else{
                return;
            }
        }
        if(isEnd){
            if(confirm("게임이 종료되었습니다. 초기화 하시겠습니까?") == true){
                reset();
                return;
            }
            else{
                return;
            }
        }
        if(!isFirst){
            isUser = false;
            com_ai_think = setTimeout(com_ai, 1000);
        }
        user_thinking();
        user_bingo_input();
        com_bingo_input();
        btn.innerHTML = "다시하기";
        isStart = true;
    }
    function user_bingo_input(){
        for(var i = 0; i<user_bingos.length; i++){
            user_bingos[i] = new Array(5);
        }
        var x = 0;
        var y = 0;
        for(var i = 1; i<=25; i++){
            var user_num = document.getElementById("user_"+i);
            var user_ran = Math.floor(Math.random()*100)+1;
            isNum = false;
            for(var j = 0; j<user_bingos.length; j++){
                if(isNum){
                    break;
                }
                for(var k = 0; k<user_bingos[j].length; k++){
                    if(user_bingos[j][k] == user_ran){
                        isNum = true;
                        i--;
                        break;
                    }
                }
            }
            if(!isNum){
                user_bingos[x][y] = user_ran;
                user_num.innerHTML = user_bingos[x][y];
                y++
                if(y == 5){
                    y = 0;
                    x++;
                }
            }
        }
    }

    function com_bingo_input(){
        for(var i = 0; i<com_bingos.length; i++){
            com_bingos[i] = new Array(5);
        }
        var x = 0;
        var y = 0;
        for(var i = 1; i<=25; i++){
            var com_num = document.getElementById("com_"+i);
            var com_ran = Math.floor(Math.random()*100)+1;
            isNum = false;
            for(var j = 0; j<com_bingos.length; j++){
                if(isNum){
                    break;
                }
                for(var k = 0; k<com_bingos[j].length; k++){
                    if(com_bingos[j][k] == com_ran){
                        isNum = true;
                        i--;
                        break;
                    }
                }
            }
            if(!isNum){
                com_bingos[x][y] = com_ran;
                com_num.innerHTML = com_bingos[x][y];
                y++
                if(y == 5){
                    y = 0;
                    x++;
                }
            }
        }
    }

    function user_bingo_click(num){
        var line_num = parseInt(num / 5);
        if(num % 5 == 0){
            line_num--;
        }
        var col_num = (num-1) % 5;
        if(isEnd){
            alert("다시하기 버튼을 눌러 주세요!");
            return;
        }
        if(!isStart && !isEnd){
            alert("시작하기 버튼을 누른 후 시작해주세요!");
            return;
        }
        if(user_bingos[line_num][col_num] === true && user_bingos[line_num][col_num] != ""){
            alert("이미 선택한 칸입니다.");
            return;
        }
        if(!isUser){
            alert("컴퓨터 순서입니다.");
            return;
        }
        var click = document.getElementById("user_"+num);
        click.style.backgroundColor = "royalblue";
        
        var isCheck = true;
        isUser = false;
        
        user_bingo_chk(num, isCheck);
        com_bingo_chk(click.innerHTML, isCheck);
        if(isStart){
            com_ai_think = setTimeout(com_ai, 1000);
        }
    }
    function com_chk(chk_num, isCheck){
        for(var i = 0; i<user_bingos.length; i++){
            for(var j = 0; j<user_bingos[i].length; j++){
                if(user_bingos[i][j] === chk_num){
                    for(var k = 1; k<=25; k++){
                        search_num = document.getElementById("user_"+k);
                        if(search_num.innerHTML == chk_num){
                            search_num.style.backgroundColor = "royalblue";
                        }
                    }
                    user_bingos[i][j] = isCheck;
                }
            }
        }
        com_bingo_chk(chk_num, true);
    }
    var col_idx = 0;
    var row_idx = 0;
    var col_max = 0;
    var row_max = 0;
    var isTrue = false;
    function com_ai(){
        isUser = true;
        col_max = Math.max.apply(0, col_count);
        row_max = Math.max.apply(0, row_count);
        col_idx = col_count.indexOf(col_max);
        row_idx = row_count.indexOf(row_max);
        var ai_ran = Math.floor(Math.random()*20)+1;
        var col_row_ran = Math.floor(Math.random()*10)+1;
        var cross_ran = Math.floor(Math.random()*10)+1;
        if(!isTrue){
            for(var i = 0; i<com_bingos.length; i++){
                for(var j = 0; j<com_bingos[i].length; j++){
                    if(com_bingos[i][j] === true){
                        isTrue = true;
                        break;
                    }
                }
            }
            if(!isTrue){
                var first_ran = Math.floor(Math.random()*25)+1;
                search_num = document.getElementById("com_"+first_ran);
                search_num.style.backgroundColor = "royalblue";
                for(var x = 0; x<com_bingos.length; x++){
                    for(var y = 0; y<com_bingos[x].length; y++){
                        if(search_num.innerHTML == com_bingos[x][y]){
                            com_chk(com_bingos[x][y], true);
                            com_bingos[x][y] = true;
                            isTrue = true;
                            return;
                        }
                    }
                }
            }
        }
        if(col_max > row_max && col_max >= leftUp_rightDown && col_max >= rightUp_leftDown){
            switch(col_row_ran % 2){
                    case 0:
                        for(var i = 0; i<5; i++){
                            if(com_bingos[col_idx][i] === true){
                                if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[col_idx][i-1], true);
                                    com_bingos[col_idx][i-1] = true;
                                    return;
                                }
                                else if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[col_idx][i+1], true);
                                    com_bingos[col_idx][i+1] = true;
                                    return;
                                }
                            }
                        }
                        break;
                    case 1:
                        for(var i = 0; i<5; i++){
                            if(com_bingos[col_idx][i] === true){
                                if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[col_idx][i+1], true);
                                    com_bingos[col_idx][i+1] = true;
                                    return;
                                }
                                else if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[col_idx][i-1], true);
                                    com_bingos[col_idx][i-1] = true;
                                    return;
                                }
                            }
                        }
                        break;
                }
        }
        else if(row_max > col_max && row_max >= leftUp_rightDown && row_max >= rightUp_leftDown){
            switch(col_row_ran % 2){
                    case 0:
                        for(var i = 0; i<5; i++){
                            if(com_bingos[i][row_idx] === true){
                                if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[i-1][row_idx], true);
                                    com_bingos[i-1][row_idx] = true;
                                    return;
                                }
                                else if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[i+1][row_idx], true);
                                    com_bingos[i+1][row_idx] = true;
                                    return;
                                }
                            }
                        }
                        break;
                    case 1:
                        for(var i = 0; i<5; i++){
                            if(com_bingos[i][row_idx] === true){
                                if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[i+1][row_idx], true);
                                    com_bingos[i+1][row_idx] = true;
                                    return;
                                }
                                else if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                    for(var j = 1; j<=25; j++){
                                        search_num = document.getElementById("com_"+j);
                                        if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                            search_num.style.backgroundColor = "royalblue";
                                        }
                                    }
                                    com_chk(com_bingos[i-1][row_idx], true);
                                    com_bingos[i-1][row_idx] = true;
                                    return;
                                }
                            }
                        }
                        break;
                }
        }
        else if(leftUp_rightDown > col_max && leftUp_rightDown > row_max && leftUp_rightDown > rightUp_leftDown){
            for(var i = 0; i<5; i++){
                if(com_bingos[i][i] === true){
                    if(i-1 >= 0 && com_bingos[i-1][i-1] !== true){
                        for(var j = 1; j<=25; j++){
                            search_num = document.getElementById("com_"+j);
                            if(search_num.innerHTML === com_bingos[i-1][i-1]){
                                search_num.style.backgroundColor = "royalblue";
                            }
                        }
                        com_chk(com_bingos[i-1][i-1], true);
                        com_bingos[i-1][i-1] = true;
                        return;
                    }
                    else if(i+1 <=4 && com_bingos[i+1][i+1] !== true){
                        for(var j = 1; j<=25; j++){
                            search_num = document.getElementById("com_"+j);
                            if(search_num.innerHTML === com_bingos[i+1][i+1]){
                                search_num.style.backgroundColor = "royalblue";
                            }
                        }
                        com_chk(com_bingos[i+1][i+1], true);
                        com_bingos[i+1][i+1] = true;
                        return;
                    }
                }
            }
        }
        else if(rightUp_leftDown > col_max && rightUp_leftDown > row_max && rightUp_leftDown > leftUp_rightDown){
            for(var i = 0; i<5; i++){
                if(com_bingos[i][4-i] === true){
                    if(i-1 >= 0 && com_bingos[i-1][(4-i)+1] !== true){
                        for(var j = 1; j<=25; j++){
                            search_num = document.getElementById("com_"+j);
                            if(search_num.innerHTML === com_bingos[i-1][(4-i)+1]){
                                search_num.style.backgroundColor = "royalblue";
                            }
                        }
                        com_chk(com_bingos[i-1][(4-i)+1], true);
                        com_bingos[i-1][(4-i)+1] = true;
                        return;
                    }
                    else if(i+1 <= 4 && com_bingos[i+1][(4-i)-1] !== true){
                        for(var j = 1; j<=25; j++){
                            search_num = document.getElementById("com_"+j);
                            if(search_num.innerHTML === com_bingos[i+1][(4-i)-1]){
                                search_num.style.backgroundColor = "royalblue";
                            }
                        }
                        com_chk(com_bingos[i+1][(4-i)-1], true);
                        com_bingos[i+1][(4-i)-1] = true;
                        return;
                    }
                }
            }
        }
        else if ((col_max === row_max && col_max === leftUp_rightDown && col_max === rightUp_leftDown)){
            switch(ai_ran % 4){
                case 0:
                    switch(col_row_ran % 2){
                        case 0:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[col_idx][i] === true){
                                    if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i-1], true);
                                        com_bingos[col_idx][i-1] = true;
                                        return;
                                    }
                                    else if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i+1], true);
                                        com_bingos[col_idx][i+1] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                        case 1:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[col_idx][i] === true){
                                    if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i+1], true);
                                        com_bingos[col_idx][i+1] = true;
                                        return;
                                    }
                                    else if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i-1], true);
                                        com_bingos[col_idx][i-1] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                    }
                    break;
                case 1:
                    switch(col_row_ran % 2){
                        case 0:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[i][row_idx] === true){
                                    if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i-1][row_idx], true);
                                        com_bingos[i-1][row_idx] = true;
                                        return;
                                    }
                                    else if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i+1][row_idx], true);
                                        com_bingos[i+1][row_idx] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                        case 1:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[i][row_idx] === true){
                                    if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i+1][row_idx], true);
                                        com_bingos[i+1][row_idx] = true;
                                        return;
                                    }
                                    else if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i-1][row_idx], true);
                                        com_bingos[i-1][row_idx] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                    }
                    break;
                case 2:    
                    for(var i = 0; i<5; i++){
                        if(com_bingos[i][i] === true){
                            if(i-1 >= 0 && com_bingos[i-1][i-1] !== true){
                                for(var j = 1; j<=25; j++){
                                    search_num = document.getElementById("com_"+j);
                                    if(search_num.innerHTML === com_bingos[i-1][i-1]){
                                        search_num.style.backgroundColor = "royalblue";
                                    }
                                }
                                com_chk(com_bingos[i-1][i-1], true);
                                com_bingos[i-1][i-1] = true;
                                return;
                            }
                            else if(i+1 <=4 && com_bingos[i+1][i+1] !== true){
                                for(var j = 1; j<=25; j++){
                                    search_num = document.getElementById("com_"+j);
                                    if(search_num.innerHTML === com_bingos[i+1][i+1]){
                                        search_num.style.backgroundColor = "royalblue";
                                    }
                                }
                                com_chk(com_bingos[i+1][i+1], true);
                                com_bingos[i+1][i+1] = true;
                                return;
                            }
                        }
                    }
                    break;
                case 3:
                    for(var i = 0; i<5; i++){
                        if(com_bingos[i][4-i] === true){
                            if(i-1 >= 0 && com_bingos[i-1][(4-i)+1] !== true){
                                for(var j = 1; j<=25; j++){
                                    search_num = document.getElementById("com_"+j);
                                    if(search_num.innerHTML === com_bingos[i-1][(4-i)+1]){
                                        search_num.style.backgroundColor = "royalblue";
                                    }
                                }
                                com_chk(com_bingos[i-1][(4-i)+1], true);
                                com_bingos[i-1][(4-i)+1] = true;
                                return;
                            }
                            else if(i+1 <= 4 && com_bingos[i+1][(4-i)-1] !== true){
                                for(var j = 1; j<=25; j++){
                                    search_num = document.getElementById("com_"+j);
                                    if(search_num.innerHTML === com_bingos[i+1][(4-i)-1]){
                                        search_num.style.backgroundColor = "royalblue";
                                    }
                                }
                                com_chk(com_bingos[i+1][(4-i)-1], true);
                                com_bingos[i+1][(4-i)-1] = true;
                                return;
                            }
                        }
                    }
                    break;
            }
        }
        else{
            switch(ai_ran % 2){
                case 0:
                    switch(col_row_ran % 2){
                        case 0:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[col_idx][i] === true){
                                    if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i-1], true);
                                        com_bingos[col_idx][i-1] = true;
                                        return;
                                    }
                                    else if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i+1], true);
                                        com_bingos[col_idx][i+1] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                        case 1:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[col_idx][i] === true){
                                    if(i+1 <= 4 && com_bingos[col_idx][i+1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i+1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i+1], true);
                                        com_bingos[col_idx][i+1] = true;
                                        return;
                                    }
                                    else if(i-1 >= 0 && com_bingos[col_idx][i-1] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[col_idx][i-1]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[col_idx][i-1], true);
                                        com_bingos[col_idx][i-1] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                    }
                    break;
                case 1:
                    switch(col_row_ran % 2){
                        case 0:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[i][row_idx] === true){
                                    if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i-1][row_idx], true);
                                        com_bingos[i-1][row_idx] = true;
                                        return;
                                    }
                                    else if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i+1][row_idx], true);
                                        com_bingos[i+1][row_idx] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                        case 1:
                            for(var i = 0; i<5; i++){
                                if(com_bingos[i][row_idx] === true){
                                    if(i+1 <= 4 && com_bingos[i+1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i+1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i+1][row_idx], true);
                                        com_bingos[i+1][row_idx] = true;
                                        return;
                                    }
                                    else if(i-1 >= 0 && com_bingos[i-1][row_idx] !== true){
                                        for(var j = 1; j<=25; j++){
                                            search_num = document.getElementById("com_"+j);
                                            if(search_num.innerHTML == com_bingos[i-1][row_idx]){
                                                search_num.style.backgroundColor = "royalblue";
                                            }
                                        }
                                        com_chk(com_bingos[i-1][row_idx], true);
                                        com_bingos[i-1][row_idx] = true;
                                        return;
                                    }
                                }
                            }
                            break;
                    }
                    break;
                }
        }
                
    }
    function user_win(){
        isStart = false;
        isEnd = true;
        alert("빙고완성! 유저승리!");
        clearTimeout(think_animate);
        thinkingText.innerHTML = "유저승리!";
    }
    function com_win(){
        isStart = false;
        isEnd = true;
        alert("빙고완성! 컴퓨터승리!");
        clearTimeout(think_animate);
        thinkingText.innerHTML = "컴퓨터승리!";
    }

    function user_bingo_chk(chk_num, isCheck){
        var user_bingo_count = 0;
        var line_num = parseInt(chk_num / 5);
        if(chk_num % 5 == 0){
            line_num--;
        }
        var col_num = (chk_num-1) % 5;
        user_bingos[line_num][col_num] = isCheck;
        for(var i = 0; i<5; i++){
            if(user_bingos[i][i] === true){
                user_bingo_count++;
            }
            if(user_bingo_count == 5){
                user_win();
                return;
            }
        }
        user_bingo_count = 0;
        for(var i =0; i<5; i++){
            if(user_bingos[i][4-i] === true){
                user_bingo_count++;
            }
            if(user_bingo_count == 5){
                user_win();
                return;
            }
        }
        for(var i = 0; i<5; i++){
            var user_bingo_count = 0;
            for(var j = 0; j<5; j++){
                if(user_bingos[i][j] === true){
                    user_bingo_count++;
                }
            }
            if(user_bingo_count == 5){
                user_win();
                return;
            }
        }
        for(var i = 0; i<5; i++){
            var user_bingo_count = 0;
            for(var j = 0; j<5; j++){
                if(user_bingos[j][i] === true){
                    user_bingo_count++;
                }
            }
            if(user_bingo_count == 5){
                user_win();
                return;
            }
        }
    }
    var col_count = new Array(5);
    var row_count = new Array(5);
    var leftUp_rightDown = 0;
    var rightUp_leftDown = 0;
    var search_num;
    function com_bingo_chk(chk_num, isCheck){
        var com_bingo_count = 0;
        for(var i = 0; i<com_bingos.length; i++){
            for(var j = 0; j<com_bingos[i].length; j++){
                if(com_bingos[i][j] == chk_num){
                    for(var k = 1; k<=25; k++){
                        search_num = document.getElementById("com_"+k);
                        if(search_num.innerHTML == chk_num){
                            search_num.style.backgroundColor = "royalblue";
                        }
                    }
                    com_bingos[i][j] = isCheck;
                }
            }
        }
        for(var i = 0; i<5; i++){
            if(com_bingos[i][i] === true){
                com_bingo_count++;
            }
            if(com_bingo_count == 5){
                com_win();
                return;
            }
        }
        leftUp_rightDown = com_bingo_count;
        com_bingo_count = 0;
        for(var i =0; i<5; i++){
            if(com_bingos[i][4-i] === true){
                com_bingo_count++;
            }
            if(com_bingo_count == 5){
                com_win();
                return;
            }
        }
        rightUp_leftDown = com_bingo_count;
        for(var i = 0; i<5; i++){
            var com_bingo_count = 0;
            for(var j = 0; j<5; j++){
                if(com_bingos[i][j] === true){
                    com_bingo_count++;
                }
            }
            col_count[i] = com_bingo_count;
            if(com_bingo_count == 5){
                com_win();
                return;
            }
        }
        for(var i = 0; i<5; i++){
            var com_bingo_count = 0;
            for(var j = 0; j<5; j++){
                if(com_bingos[j][i] === true){
                    com_bingo_count++;
                }
            }
            row_count[i] = com_bingo_count;
            if(com_bingo_count == 5){
                com_win();
                return;
            }
        }
    }

</script>
</html>